<?xml version="1.0" encoding="UTF-8"?>
<map version="1.0" orientation="orthogonal" renderorder="right-down" width="37" height="35" tilewidth="16" tileheight="16">
 <properties>
  <property name="bgm" value="no_change"/>
  <property name="name" value="Forest Town"/>
 </properties>
 <tileset firstgid="1" source="../tilesets/lower.tsx"/>
 <tileset firstgid="113" source="../tilesets/upper.tsx"/>
 <layer name="Tile Layer 1" width="37" height="35">
  <properties>
   <property name="z" value="0"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+2XMQrDMAxFNXoKZMsNSpa2S5v736zxYGoMlvUt2cmgD4IM9tdDwUIiciFaBGHpJckTv19MoEzp3lrxquUrmb5MoEzp3lbxquUrmQITKBPn9ThjF+SZyfQ547gZkzRP8llvyLRNYFqYMyWTZX+yYIpvgetP+wVM8S1w/ekAmfK8vX3cUk/61zcQX/8y3oOY8poH4uuv+R8ul8s1WyP6vtaztRv07Alaz9Zu0LMnaD2RmRBh0ng6kzNZMyFzqpRJ45nvBq05VbonaD2ROVU6l47wvFo/zK+6OjwUAAA=
  </data>
 </layer>
 <layer name="Tile Layer 2" width="37" height="35">
  <properties>
   <property name="z" value=".5"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+3XQQqAIBAFUO9cCC3CE7Rp06IbVIdMwUAGNKsfWf0Hw4DKMOBmRimie/Q+EGpQndGHoy/WajPfaZFTzMlejjIiv0ElMlqXuGsi52FPYV+pWl83PN1AoKReiIiIaB9qd8gVm/E2bn4fd97k1JT7wJU9BDW/y33gib1gsjHbWIA10XM48u9QSvg7+p8VocNmnjwUAAA=
  </data>
 </layer>
 <objectgroup name="Object Layer 1">
  <object type="Event" x="64" y="144" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/parish_interior.tmx', 24, 4)"/>
   </properties>
  </object>
  <object type="Event" x="384" y="48" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/parish_interior.tmx', 4, 8)"/>
   </properties>
  </object>
  <object name="borg" type="Character" x="400" y="128" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_robot"/>
    <property name="face" value="WEST"/>
    <property name="hide" value="return getSwitch('opening_talked_borg')"/>
    <property name="onInteract" value="play('borg01.lua')"/>
   </properties>
  </object>
  <object name="borg" type="Character" x="400" y="128" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_robot"/>
    <property name="face" value="WEST"/>
    <property name="hide" value="return (not getSwitch('opening_talked_borg')) or (getSwitch('opening_finished'))"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('BORG', 'Elder wanted to speak with you before you left.')"/>
   </properties>
  </object>
  <object type="Event" x="384" y="208" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/parish.tmx', 23, 27)"/>
   </properties>
  </object>
  <object type="Event" x="384" y="512" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/parish.tmx', 17, 27)"/>
   </properties>
  </object>
  <object type="Event" x="48" y="512" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/parish.tmx', 10, 24)"/>
   </properties>
  </object>
  <object name="inn" type="Character" x="384" y="432" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_human_m"/>
    <property name="onInteract" value="inn()"/>
   </properties>
  </object>
  <object name="elder" type="Character" x="64" y="432" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_elder"/>
    <property name="hide" value="return getSwitch('opening_talked_elder')"/>
    <property name="onInteract" value="play('elder01.lua')"/>
   </properties>
  </object>
  <object name="elder" type="Character" x="64" y="432" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_elder"/>
    <property name="hide" value="return (not getSwitch('opening_talked_elder')) or (getSwitch('shrine_done'))"/>
    <property name="onInteract" value="speak('Elder', 'Take care.')"/>
   </properties>
  </object>
  <object name="room" type="Ceiling" x="480" y="48">
   <properties>
    <property name="roofID" value="13"/>
    <property name="roofTileset" value="lower"/>
   </properties>
   <polygon points="0,0 0,144 96,144 96,0"/>
  </object>
  <object name="elder" type="Character" x="64" y="432" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_elder"/>
    <property name="hide" value="return not getSwitch('shrine_done')"/>
    <property name="onInteract" value="speak('Elder', 'BORG tells me you found a sending stone. Please keep it, and bring me more news.')"/>
   </properties>
  </object>
  <object name="borg" type="Character" x="400" y="128" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_robot"/>
    <property name="face" value="WEST"/>
    <property name="hide" value="return not getSwitch('shrine_done')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('BORG', getHero(0).getName() .. '! Good to see you, and stay safe.')"/>
   </properties>
  </object>
 </objectgroup>
 <layer name="Tile Layer 3" width="37" height="35">
  <properties>
   <property name="z" value="1.0"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+3WQQ0AIAwEwSrACj/8S8NAf03TBGYEXO65EQBA1Zo+kNjTBxJn+gAAwGc6OrW62dGp1c2OTn2lfS9m0XsEPBQAAA==
  </data>
 </layer>
 <layer name="Tile Layer 4" width="37" height="35">
  <properties>
   <property name="z" value="1.5"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+3WsQkAMAwDQc+cNst7gXTBCMzdAELlVwEAG530gYebPgAAQNxEp/5uTnTqlvZtSIKT0zwUAAA=
  </data>
 </layer>
</map>
