<?xml version="1.0" encoding="UTF-8"?>
<map version="1.0" orientation="orthogonal" renderorder="right-down" width="48" height="48" tilewidth="16" tileheight="16">
 <properties>
  <property name="name" value="Mountain Town"/>
 </properties>
 <tileset firstgid="1" name="lower" tilewidth="16" tileheight="16">
  <properties>
   <property name="x" value=""/>
  </properties>
  <image source="../tilesets/lower2.PNG" width="112" height="256"/>
  <tile id="3">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="4">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="5">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="6">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="10">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="11">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="12">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="13">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="17">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="18">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="19">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="20">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="24">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="25">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="26">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="27">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="31">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="32">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="33">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="34">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="38">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="39">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="40">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="41">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="45">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="46">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="47">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="48">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="52">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="53">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="54">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="56">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="57">
   <properties>
    <property name="x" value=""/>
   </properties>
   <animation>
    <frame tileid="56" duration="500"/>
    <frame tileid="63" duration="500"/>
    <frame tileid="70" duration="500"/>
    <frame tileid="77" duration="500"/>
   </animation>
  </tile>
  <tile id="58">
   <animation>
    <frame tileid="59" duration="500"/>
    <frame tileid="60" duration="500"/>
    <frame tileid="61" duration="500"/>
    <frame tileid="62" duration="500"/>
   </animation>
  </tile>
  <tile id="63">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="70">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="77">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="84">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="85">
   <properties>
    <property name="x" value=""/>
   </properties>
   <animation>
    <frame tileid="84" duration="500"/>
    <frame tileid="91" duration="500"/>
    <frame tileid="98" duration="500"/>
    <frame tileid="105" duration="500"/>
   </animation>
  </tile>
  <tile id="91">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="95">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="97">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="98">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="102">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="103">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="104">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="105">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="109">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="111">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
 </tileset>
 <tileset firstgid="113" name="upper" tilewidth="16" tileheight="16">
  <image source="../tilesets/upper2.PNG" width="144" height="176"/>
  <tile id="1">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="2">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="3">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="4">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="5">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="6">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="7">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="10">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="11">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="12">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="13">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="14">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="15">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="16">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="19">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="20">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="21">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="22">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="23">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="24">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="25">
   <properties>
    <property name="o" value=""/>
   </properties>
  </tile>
  <tile id="27">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="28">
   <properties>
    <property name="counter" value=""/>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="29">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="30">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="31">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="32">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="33">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="36">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="37">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="38">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="39">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="40">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="41">
   <properties>
    <property name="o" value=""/>
   </properties>
  </tile>
  <tile id="42">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="45">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="46">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="47">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="48">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="49">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="50">
   <properties>
    <property name="o" value=""/>
   </properties>
  </tile>
  <tile id="51">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="54">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="55">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="56">
   <properties>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="57">
   <properties>
    <property name="counter" value=""/>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="58">
   <properties>
    <property name="counter" value=""/>
    <property name="x" value=""/>
   </properties>
  </tile>
  <tile id="59">
   <properties>
    <property name="counter" value=""/>
    <property name="x" value=""/>
   </properties>
  </tile>
 </tileset>
 <layer name="Tile Layer 1" width="48" height="48">
  <properties>
   <property name="z" value="0"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+2XywqDQAxFRwoFoV21K1f6Ha78/58qhYZebjOv0nFiyeIgyhBPMtcBTyGEUwVDY2pcvsH93d/938wJ3N+W/6bQwx/fnfNHR833SPOP7cfe/ui3JCjNPNZr7c8zTvmn9iaG+6eZ4F1Txn95rcmB9Vr741xz7qVgvb2/31+A9Sz5j8Dz/qzQ21/zifnfFXr7Xwnsg/1vCr39eZ7Sh+ZvMf8XAnNxhPxrmZBciPsa2SsL+a85fyzmfyzEav7Zc034W8x/zfwt5l/8cKYxf4v5lx5wppbzPxPijzPV/OUMxZ4HpV4v/9JvgK9W/LeKPmRtD3/+d+JMYB+b8oz3g+u19l8I9N/CZ77xqvlzvdb+qXNEg3vCPdHWW/Ovxf0dx3Ecx3H+mwd+94lBACQAAA==
  </data>
 </layer>
 <layer name="Tile Layer 2" width="48" height="48">
  <properties>
   <property name="z" value=".5"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+3UIQ6AMAxA0Z0fjwUuQcLxUDUghqKsvGeWud+kW2sAAO+bO3d4YsoOgI+LN7KmVtRxXM4RxU5UmKUnZl1SK/5hzw7gJvZ/y4woqvK/CQAAwNhOEGbdLwAkAAA=
  </data>
 </layer>
 <objectgroup name="Object Layer 1">
  <object name="tele" type="Event" x="176" y="576" width="416" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 44, 25)"/>
   </properties>
  </object>
  <object name="NPC" type="Character" x="368" y="464" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="SOUTH"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('Before Hero was sealed, this city was along a busy trade route.')"/>
   </properties>
  </object>
  <object name="tele" type="Event" x="176" y="528" width="16" height="48">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 44, 25)"/>
   </properties>
  </object>
  <object name="tele" type="Event" x="576" y="528" width="16" height="48">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 44, 25)"/>
   </properties>
  </object>
  <object name="NPC" type="Character" x="368" y="240" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_human_f"/>
    <property name="face" value="WEST"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('Our city\'s treasures are all safe in the stronghold.')"/>
   </properties>
  </object>
  <object name="NPC" type="Character" x="272" y="400" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_human_m"/>
    <property name="face" value="NORTH"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('I hear when Hero was sealed, some knights were still trapped inside.')"/>
   </properties>
  </object>
  <object name="NPC" type="Character" x="240" y="528" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_slime"/>
    <property name="face" value="EAST"/>
    <property name="onInteract" value="speak('Elemental stones are a rare treasure nowadays, but they say a powerful magician could use them to create lost magic.')"/>
   </properties>
  </object>
  <object name="NPC" type="Character" x="480" y="480" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_mutant_f"/>
    <property name="face" value="NORTH"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('The magus eye is the pride of the city. The wearer will never stumble into any traps!')"/>
   </properties>
  </object>
  <object name="NPC" type="Character" x="400" y="304" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_human_m"/>
    <property name="face" value="WEST"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('When I was a kid I fell into the town well. It\'s surprisingly deep!')"/>
   </properties>
  </object>
  <object name="tele" type="Event" x="272" y="336" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/mountaintown_interior.tmx', 3, 8)"/>
   </properties>
  </object>
  <object name="tele" type="Event" x="448" y="416" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/mountaintown_interior.tmx', 3, 26)"/>
   </properties>
  </object>
  <object name="tele" type="Event" x="448" y="352" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/mountaintown_interior.tmx', 25, 26)"/>
   </properties>
  </object>
  <object name="tele" type="Event" x="448" y="288" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/mountaintown_interior.tmx', 25, 8)"/>
   </properties>
  </object>
  <object name="door" type="Event" x="304" y="224" width="16" height="16">
   <properties>
    <property name="onInteract" value="speak('It\'s locked.')"/>
    <property name="passable" value="IMPASSABLE"/>
   </properties>
  </object>
  <object name="well1" type="Event" x="368" y="384" width="16" height="16">
   <properties>
    <property name="hide" value="return hasItem('key_artifactScuba')"/>
    <property name="onInteract" value="speak(getHero(0).getName(), 'The well looks too deep to dive without drowning.')"/>
    <property name="passable" value="IMPASSABLE"/>
   </properties>
  </object>
  <object name="well2" type="Event" x="368" y="384" width="16" height="16">
   <properties>
    <property name="hide" value="return not hasItem('key_artifactScuba')"/>
    <property name="onInteract" value="play('well.lua')"/>
    <property name="passable" value="IMPASSABLE"/>
   </properties>
  </object>
 </objectgroup>
</map>
