<?xml version="1.0" encoding="UTF-8"?>
<map version="1.0" orientation="orthogonal" renderorder="right-down" world2_battle="48" height="48" tileworld2_battle="16" tileheight="16" nextobjectid="17">
 <properties>
  <property name="bgm" value="world1_town"/>
  <property name="name" value="Mountain Town"/>
 </properties>
 <tileset firstgid="1" source="../tilesets/lower.tsx"/>
 <tileset firstgid="176" source="../tilesets/upper.tsx"/>
 <layer name="Tile Layer 1" world2_battle="48" height="48">
  <properties>
   <property name="z" value="0"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+2XywqDQAxFRwoFoV21K1f6Ha78/58qhYZebjOv0nFiyeIgyhBPMtcBTyGEUwVDY2pcvsH93d/938wJ3N+W/6bQwx/fnfNHR833SPOP7cfe/ui3JCjNPNZr7c8zTvmn9iaG+6eZ4F1Txn95rcmB9Vr741xz7qVgvb2/31+A9Sz5j8Dz/qzQ21/zifnfFXr7Xwnsg/1vCr39eZ7Sh+ZvMf8XAnNxhPxrmZBciPsa2SsL+a85fyzmfyzEav7Zc034W8x/zfwt5l/8cKYxf4v5lx5wppbzPxPijzPV/OUMxZ4HpV4v/9JvgK9W/LeKPmRtD3/+d+JMYB+b8oz3g+u19l8I9N/CZ77xqvlzvdb+qXNEg3vCPdHWW/Ovxf0dx3Ecx3H+mwd+94lBACQAAA==
  </data>
 </layer>
 <layer name="Tile Layer 2" world2_battle="48" height="48">
  <properties>
   <property name="z" value=".5"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+3UsQmAMBAF0LiM+69hb6su4QAiklohXE7xPUiR7udzl1IAAPqbb+7wxJQdgF9YswM0OHdkHK5Du9rjl/us/+bTtyyhaWKZ/3727ABBtuwADcx/HJ0CAADwVgfajt4rACQAAA==
  </data>
 </layer>
 <objectgroup name="Object Layer 1">
  <object id="1" name="tele" type="Event" x="176" y="576" world2_battle="416" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 50, 25)"/>
   </properties>
  </object>
  <object id="2" name="NPC" type="Character" x="368" y="464" world2_battle="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="SOUTH"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('Before Hero was sealed, this city was along a busy trade route.')"/>
   </properties>
  </object>
  <object id="3" name="tele" type="Event" x="176" y="528" world2_battle="16" height="48">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 50, 25)"/>
   </properties>
  </object>
  <object id="4" name="tele" type="Event" x="576" y="528" world2_battle="16" height="48">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 50, 25)"/>
   </properties>
  </object>
  <object id="5" name="NPC" type="Character" x="368" y="240" world2_battle="16" height="16">
   <properties>
    <property name="appearance" value="4dir_human_f"/>
    <property name="face" value="WEST"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('Our city\'s treasures are all safe in the stronghold.')"/>
   </properties>
  </object>
  <object id="6" name="NPC" type="Character" x="272" y="400" world2_battle="16" height="16">
   <properties>
    <property name="appearance" value="4dir_human_m"/>
    <property name="face" value="NORTH"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('I hear when Hero was sealed, some knights were still trapped inside.')"/>
   </properties>
  </object>
  <object id="7" name="NPC" type="Character" x="240" y="528" world2_battle="16" height="16">
   <properties>
    <property name="appearance" value="4dir_slime"/>
    <property name="face" value="EAST"/>
    <property name="onInteract" value="speak('Elemental stones are a rare treasure nowadays, but they say a powerful magician could use them to create lost magic.')"/>
   </properties>
  </object>
  <object id="8" name="NPC" type="Character" x="480" y="480" world2_battle="16" height="16">
   <properties>
    <property name="appearance" value="4dir_mutant_f"/>
    <property name="face" value="NORTH"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('The magus eye is the pride of the city. The wearer will never stumble into any traps!')"/>
   </properties>
  </object>
  <object id="9" name="NPC" type="Character" x="400" y="304" world2_battle="16" height="16">
   <properties>
    <property name="appearance" value="4dir_human_m"/>
    <property name="face" value="WEST"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('When I was a kid I fell into the town well. It\'s surprisingly deep!')"/>
   </properties>
  </object>
  <object id="10" name="tele" type="Event" x="272" y="336" world2_battle="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/mountaintown_interior.tmx', 3, 8)"/>
   </properties>
  </object>
  <object id="11" name="tele" type="Event" x="448" y="416" world2_battle="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/mountaintown_interior.tmx', 3, 26)"/>
   </properties>
  </object>
  <object id="12" name="tele" type="Event" x="448" y="352" world2_battle="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/mountaintown_interior.tmx', 25, 26)"/>
   </properties>
  </object>
  <object id="13" name="tele" type="Event" x="448" y="288" world2_battle="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/mountaintown_interior.tmx', 25, 8)"/>
   </properties>
  </object>
  <object id="14" name="door" type="Event" x="304" y="224" world2_battle="16" height="16">
   <properties>
    <property name="onInteract" value="speak('It\'s locked.')"/>
    <property name="passable" value="IMPASSABLE"/>
   </properties>
  </object>
  <object id="15" name="well1" type="Event" x="368" y="384" world2_battle="16" height="16">
   <properties>
    <property name="hide" value="return hasItem('key_artifactScuba')"/>
    <property name="onInteract" value="speak(getHero(0).getName(), 'The well looks too deep to dive without drowning.')"/>
    <property name="passable" value="IMPASSABLE"/>
   </properties>
  </object>
  <object id="16" name="well2" type="Event" x="368" y="384" world2_battle="16" height="16">
   <properties>
    <property name="hide" value="return not hasItem('key_artifactScuba')"/>
    <property name="onInteract" value="play('world1/well.lua')"/>
    <property name="passable" value="IMPASSABLE"/>
   </properties>
  </object>
 </objectgroup>
</map>
