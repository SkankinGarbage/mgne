<?xml version="1.0" encoding="UTF-8"?>
<map version="1.0" orientation="orthogonal" renderorder="right-down" width="48" height="45" tilewidth="16" tileheight="16" nextobjectid="78">
 <properties>
  <property name="bgm" value="ffl1_town"/>
  <property name="name" value="Excaliber Town"/>
 </properties>
 <tileset firstgid="1" source="../tilesets/lower.tsx"/>
 <tileset firstgid="176" source="../tilesets/upper.tsx"/>
 <layer name="Tile Layer 1" width="48" height="45">
  <properties>
   <property name="z" value="0"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+2WzQ2DMAxGQzkxAje6Ridggi7FFGxacbBkvtqG/thJKx+eKqUBXhLbcV9K6ZMkSZLkj7kadCex3kF4+o8KZ/215wlv/0lhYI6DAP2nPU94+0tuR+44x5oX5S/Fxs0A17H9zkC0/wCOdwM+j9Yr+Y8B/jwGLGcNesci+E9B/nQO3MuqO5L/Kvh3Ffd/G7sIaP60B0vZx6WX/1ie45+fA/nzfef+mMO073QO3v7Tl/yt/PX0x5j+xF+rnxH+C4D+Wvxj7rTob9UfKW957kb48++iP95ReLeh/1r2NbSmv9TrHI3XiB++bwTmtJbnONZC/dG8tT6vdv18pRd+p5eO8kesnOBjOK+Gv3Tukj/vDyx/jCvv+Jf6Xst/NvylHPk1f1yDtz+/c8gfayr6r8a86P0/qpVSnbHGov29Sf8kSZIkaZsHhnf1ncAhAAA=
  </data>
 </layer>
 <layer name="Tile Layer 2" width="48" height="45">
  <properties>
   <property name="z" value=".5"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+3UoRWAMBBEwaMZ+m/jigi0EoNARBzJ48XM6BVfbQQAAAAAjF27AxacR0TujgB4aYXN/XvFnOqn5rMFAOC7DvMC3zvAIQAA
  </data>
 </layer>
 <objectgroup name="Object Layer 1">
  <object id="44" name="tele" type="Event" x="160" y="128" width="16" height="464">
   <properties>
    <property name="onCollide" value="targetTele('world4/overworld.tmx', 'monster_town')"/>
   </properties>
  </object>
  <object id="45" name="tele" type="Event" x="592" y="128" width="16" height="464">
   <properties>
    <property name="onCollide" value="targetTele('world4/overworld.tmx', 'monster_town')"/>
   </properties>
  </object>
  <object id="46" name="tele" type="Event" x="176" y="128" width="416" height="16">
   <properties>
    <property name="onCollide" value="targetTele('world4/overworld.tmx', 'monster_town')"/>
   </properties>
  </object>
  <object id="47" name="tele" type="Event" x="176" y="576" width="416" height="16">
   <properties>
    <property name="onCollide" value="targetTele('world4/overworld.tmx', 'monster_town')"/>
   </properties>
  </object>
  <object id="48" name="entry" type="Target" x="544" y="528" width="16" height="16"/>
  <object id="49" name="memory" type="Teleport Memory" x="352" y="416" width="16" height="16">
   <properties>
    <property name="displayName" value="Excaliber Town"/>
   </properties>
  </object>
  <object id="50" name="tele" type="Event" x="464" y="512" width="16" height="16">
   <properties>
    <property name="onCollide" value="targetTele('world4/monster_town.tmx', 'inn')"/>
   </properties>
  </object>
  <object id="51" name="tele" type="Event" x="320" y="512" width="16" height="16">
   <properties>
    <property name="onCollide" value="targetTele('world4/monster_town.tmx', 'weapons')"/>
   </properties>
  </object>
  <object id="52" name="tele" type="Event" x="240" y="400" width="16" height="16">
   <properties>
    <property name="onCollide" value="targetTele('world4/monster_town.tmx', 'potions')"/>
   </properties>
  </object>
  <object id="53" name="inn" type="Target" x="464" y="528" width="16" height="16"/>
  <object id="54" name="weapons" type="Target" x="320" y="528" width="16" height="16"/>
  <object id="55" name="potions" type="Target" x="240" y="416" width="16" height="16"/>
  <object id="56" name="npc" type="Character" x="512" y="512" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="EAST"/>
    <property name="hide" value="return getSwitch('transformed')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="play('world4/werewolf.lua')"/>
   </properties>
  </object>
  <object id="57" name="npc" type="Character" x="544" y="384" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="SOUTH"/>
    <property name="hide" value="return getSwitch('transformed')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="play('world4/werewolf.lua')"/>
   </properties>
  </object>
  <object id="58" name="npc" type="Character" x="400" y="416" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="WEST"/>
    <property name="hide" value="return getSwitch('transformed')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="play('world4/werewolf.lua')"/>
   </properties>
  </object>
  <object id="59" name="npc" type="Character" x="304" y="416" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="EAST"/>
    <property name="hide" value="return getSwitch('transformed')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="play('world4/werewolf.lua')"/>
   </properties>
  </object>
  <object id="60" name="npc" type="Character" x="224" y="496" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="EAST"/>
    <property name="hide" value="return getSwitch('transformed')"/>
    <property name="onInteract" value="play('world4/werewolf.lua')"/>
   </properties>
  </object>
  <object id="61" name="npc" type="Character" x="208" y="240" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="SOUTH"/>
    <property name="hide" value="return getSwitch('transformed')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="play('world4/werewolf.lua')"/>
   </properties>
  </object>
  <object id="62" name="npc" type="Character" x="496" y="208" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="SOUTH"/>
    <property name="hide" value="return getSwitch('transformed')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="play('world4/werewolf.lua')"/>
   </properties>
  </object>
  <object id="63" name="guard" type="Character" x="352" y="368" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="SOUTH"/>
    <property name="hide" value="return getSwitch('transformed') or getSwitch('excaliber01')"/>
    <property name="onInteract" value="play('world4/werewolf.lua')"/>
   </properties>
  </object>
  <object id="64" name="npc" type="Character" x="512" y="512" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="EAST"/>
    <property name="hide" value="return not getSwitch('transformed')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('Welcome, friends.')"/>
   </properties>
  </object>
  <object id="65" name="npc" type="Character" x="544" y="384" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="SOUTH"/>
    <property name="hide" value="return getSwitch('transformed')"/>
    <property name="onInteract" value="speak('EXCALIBER is enchanted to protect it from Moloch.')"/>
   </properties>
  </object>
  <object id="66" name="npc" type="Character" x="208" y="240" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="SOUTH"/>
    <property name="hide" value="return not getSwitch('transformed')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('We were human once, but living above ground has its downsides.')"/>
   </properties>
  </object>
  <object id="67" name="npc" type="Character" x="224" y="496" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="EAST"/>
    <property name="hide" value="return not getSwitch('transformed')"/>
    <property name="onInteract" value="play('We live to defend EXCALIBER.')"/>
   </properties>
  </object>
  <object id="68" name="npc" type="Character" x="400" y="416" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="WEST"/>
    <property name="hide" value="return not getSwitch('transformed')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="play('Humans are too weak to protect this world\'s treasures.')"/>
   </properties>
  </object>
  <object id="69" name="npc" type="Character" x="304" y="416" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="EAST"/>
    <property name="hide" value="return not getSwitch('transformed')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('Generations ago, a great sage put the spell on EXCALIBER.')"/>
   </properties>
  </object>
  <object id="70" name="guard" type="Character" x="352" y="368" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="SOUTH"/>
    <property name="hide" value="return not getSwitch('transformed') or getSwitch('excaliber01')"/>
    <property name="onInteract" value="play('world4/excaliber01.lua')"/>
   </properties>
  </object>
  <object id="72" name="npc" type="Character" x="336" y="352" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="EAST"/>
    <property name="hide" value="return not getSwitch('transformed') and getSwitch('excaliber01')"/>
    <property name="onInteract" value="play('world4/excaliber03.lua')"/>
   </properties>
  </object>
  <object id="73" name="npc" type="Character" x="336" y="352" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_rat"/>
    <property name="face" value="EAST"/>
    <property name="hide" value="return not getSwitch('transformed') and getSwitch('excaliber01')"/>
    <property name="onInteract" value="play('world4/werewolf.lua')"/>
   </properties>
  </object>
  <object id="77" name="chest" type="Chest" x="352" y="304" width="16" height="16">
   <properties>
    <property name="item" value="key_excaliber1"/>
    <property name="keyItem" value="KEY_ITEM"/>
   </properties>
  </object>
 </objectgroup>
 <layer name="Tile Layer 3" width="48" height="45">
  <properties>
   <property name="z" value="1.5"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+3BMQEAAADCoPVPbQwfoAAAAAAAAAAAeBqUcDdbwCEAAA==
  </data>
 </layer>
</map>
