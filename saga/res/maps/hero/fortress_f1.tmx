<?xml version="1.0" encoding="UTF-8"?>
<map version="1.0" orientation="orthogonal" renderorder="right-down" width="50" height="36" tilewidth="16" tileheight="16" nextobjectid="28">
 <properties>
  <property name="bgm" value="ffl3_town"/>
  <property name="name" value="Castle of Hero"/>
 </properties>
 <tileset firstgid="1" source="../tilesets/lower.tsx"/>
 <tileset firstgid="113" source="../tilesets/upper.tsx"/>
 <layer name="Tile Layer 1" width="50" height="36" opacity="0.9">
  <properties>
   <property name="z" value="0"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+2WOw7DIAxAg3KCbEkneouu2XL/E3UBybXwFyiJxPBUhwbwsxPadVmWdTKZTCaP5w0ICTg2Oj8uX8yRyB75mpsDvUd5HMtvrjFxJfI1vhcz2iMCDpA/5kD3YkZ7BADsA4b77rqZB5enxNM88rwtfb4S0jlQYqRHPg92Z+538YhoPneGSVjzLv2mfUBsfReo886K1wPWYgNxjUeowOsBa7GDuKfHmSjFXo+ac9XicSrp5UG9K3hc249TiKlzrAVS/TGaHlDP1x09OBfKo+bMptA4cv9zqeeKI3ZA41GaV8od1z8wcWs0PaupPfW8WdaUxoOyZ9x+lAvXj1a+VjR7WfbW5l8at3hb1/8X3rpQNfCuZelZTT+9faD2CETcujdSnVp5ts67ZY88e1nx7NejPlKsyb93n7WepdhSI8lbW9cefAEdvricIBwAAA==
  </data>
 </layer>
 <layer name="Tile Layer 2" width="50" height="36">
  <properties>
   <property name="z" value=".5"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+3OoQ3AIBRF0T81CaoTsEMHYEhcBYYvaEjTc8wzT9wIAGCX+3QAjzLtV13TAv9UTwck9eSvvVoBAADAygAJNySVIBwAAA==
  </data>
 </layer>
 <objectgroup name="Object Layer 1">
  <object id="3" name="npc" type="Character" x="592" y="160" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="EAST"/>
    <property name="hide" value="return getSwitch('mirror_shatter') and not getSwitch('hero_done')"/>
    <property name="onInteract" value="speak('Beware! Monsters lurk outside the castle walls.')"/>
   </properties>
  </object>
  <object id="5" name="inn" type="Character" x="320" y="272" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_human_m"/>
    <property name="onInteract" value="inn()"/>
   </properties>
  </object>
  <object id="6" name="npc" type="Character" x="208" y="288" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="WEST"/>
    <property name="hide" value="return getSwitch('mirror_shatter') and not getSwitch('hero_done')"/>
    <property name="onInteract" value="speak('The Oracle\'s Palace lies at the end of this road. They say a seer once lived there.')"/>
   </properties>
  </object>
  <object id="8" name="npc" type="Character" x="432" y="160" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="WEST"/>
    <property name="hide" value="return getSwitch('mirror_shatter') and not getSwitch('hero_done')"/>
    <property name="onInteract" value="speak('The gate lies at the end of this road.')"/>
   </properties>
  </object>
  <object id="10" name="npc" type="Character" x="416" y="240" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="SOUTH"/>
    <property name="hide" value="return getSwitch('mirror_shatter') and not getSwitch('hero_done')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('The castle is built into the city walls. There used to be an entrance here.')"/>
   </properties>
  </object>
  <object id="11" name="npc" type="Character" x="464" y="288" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="NORTH"/>
    <property name="hide" value="return getSwitch('mirror_shatter') and not getSwitch('hero_done')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('The knights used to be reinforced by wanderers from the outside.')"/>
   </properties>
  </object>
  <object id="12" name="tele" type="Event" x="272" y="256" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('hero/fortress_f2.tmx', 1, 5)"/>
   </properties>
  </object>
  <object id="13" name="tele" type="Event" x="528" y="224" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('hero/fortress_f1.tmx', 13, 11)"/>
   </properties>
  </object>
  <object id="14" name="npc" type="Character" x="368" y="208" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="SOUTH"/>
    <property name="hide" value="return getSwitch('mirror_shatter') and not getSwitch('hero_done')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('We have hardly enough knights to defend the castle.')"/>
   </properties>
  </object>
  <object id="15" name="tele" type="Event" x="400" y="96" width="32" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 59, 18)"/>
   </properties>
  </object>
  <object id="16" name="tele" type="Event" x="176" y="240" width="16" height="96">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 59, 18)"/>
   </properties>
  </object>
  <object id="17" name="tele" type="Event" x="192" y="240" width="32" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 59, 18)"/>
   </properties>
  </object>
  <object id="18" name="tele" type="Event" x="592" y="112" width="32" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 59, 18)"/>
   </properties>
  </object>
  <object id="19" name="tele" type="Event" x="624" y="112" width="16" height="96">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 59, 18)"/>
   </properties>
  </object>
  <object id="20" name="david" type="Character" x="368" y="320" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_david"/>
    <property name="face" value="EAST"/>
    <property name="hide" value="return not getSwitch('david_left') and (getSwitch('mirror_shatter') and not getSwitch('hero_done'))"/>
    <property name="onInteract" value="speak('David', 'In a few days I\'ll be initiated as a Knight of Hero.')"/>
   </properties>
  </object>
  <object id="21" name="npc" type="Character" x="432" y="160" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="WEST"/>
    <property name="hide" value="return not getSwitch('mirror_shatter') or getSwitch('hero_done')"/>
    <property name="onInteract" value="speak('Something is happening at the gate!')"/>
   </properties>
  </object>
  <object id="22" name="npc" type="Character" x="592" y="160" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="EAST"/>
    <property name="hide" value="return not getSwitch('mirror_shatter') or getSwitch('hero_done')"/>
    <property name="onInteract" value="speak('Something is happening at the gate!')"/>
   </properties>
  </object>
  <object id="23" name="npc" type="Character" x="384" y="208" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="SOUTH"/>
    <property name="hide" value="return not getSwitch('mirror_shatter') or getSwitch('hero_done')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('Something is happening at the gate!')"/>
   </properties>
  </object>
  <object id="24" name="npc" type="Character" x="432" y="240" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="SOUTH"/>
    <property name="hide" value="return not getSwitch('mirror_shatter') or getSwitch('hero_done')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('Something is happening at the gate!')"/>
   </properties>
  </object>
  <object id="25" name="npc" type="Character" x="448" y="288" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="SOUTH"/>
    <property name="hide" value="return not getSwitch('mirror_shatter') or getSwitch('hero_done')"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('Something is happening at the gate!')"/>
   </properties>
  </object>
  <object id="27" name="npc" type="Character" x="208" y="288" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="WEST"/>
    <property name="hide" value="return not getSwitch('mirror_shatter') or getSwitch('hero_done')"/>
    <property name="onInteract" value="speak('Something is happening at the gate!')"/>
   </properties>
  </object>
 </objectgroup>
 <layer name="Tile Layer 3" width="50" height="36">
  <properties>
   <property name="z" value="1.0"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+3BAQEAAACCIP+vbkhAAQAAAAAAAC8GEkQVBiAcAAA=
  </data>
 </layer>
</map>
