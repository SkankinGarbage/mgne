<?xml version="1.0" encoding="UTF-8"?>
<map version="1.0" orientation="orthogonal" renderorder="right-down" width="60" height="40" tilewidth="16" tileheight="16" nextobjectid="21">
 <properties>
  <property name="bgm" value="ffl3_town"/>
  <property name="name" value="Castle of Hero"/>
 </properties>
 <tileset firstgid="1" source="../tilesets/lower.tsx"/>
 <tileset firstgid="113" source="../tilesets/upper.tsx"/>
 <layer name="Tile Layer 1" width="60" height="40" opacity="0.9">
  <properties>
   <property name="z" value="0"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+2aUQrDIAyGHT3F3rzCXneCnaD3P8oorCBi07hEk6Z/4YOCTfWrsRhwSSktN2G7HjcBvrGBb2y0fF+TgS98NX2psTwH4dU3D8Kr72cQlr5UrkXzbeVs5PXbmsPI67e1XjXG0tPvTN86x8583wyo5619cwHHdz15X92+Htx72F/BV8e3JLov1ddVfKl/VTRfKR7qI8pXu4bT/KbwhS9nLJz9vmYf1r6ZQT0vnJwo9+iefLn167+xe7wH3x4ksRv5h5Vvb80uiZXMq5Zv7kQSW8db+F4N+MYGvrGBb2x2X+szQrPPI30B8/iKMoAlAAA=
  </data>
 </layer>
 <layer name="Tile Layer 2" width="60" height="40">
  <properties>
   <property name="z" value=".5"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+3WsQkAIAwEQGe2dRwXdQJBQdToXZkihPDFpwQAEE8enM3uuFUZnM3uYJ9IeVthZd78jlNkD/hBPX0A8L1e53q1i/U6ly4GAACxNUrF8RCAJQAA
  </data>
 </layer>
 <objectgroup name="Object Layer 1" visible="0">
  <object id="3" name="npc" type="Character" x="592" y="160" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="EAST"/>
    <property name="onInteract" value="speak('Beware! Monsters lurk outside the castle walls.')"/>
   </properties>
  </object>
  <object id="5" name="inn" type="Character" x="320" y="272" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_human_m"/>
    <property name="onInteract" value="inn()"/>
   </properties>
  </object>
  <object id="6" name="npc" type="Character" x="208" y="288" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="WEST"/>
    <property name="onInteract" value="speak('The Oracle\'s Palace lies at the end of this road. They say a seer once lived there.')"/>
   </properties>
  </object>
  <object id="8" name="npc" type="Character" x="432" y="160" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="WEST"/>
    <property name="onInteract" value="speak('The Gates of Hero lie at the end of this road.')"/>
   </properties>
  </object>
  <object id="10" name="npc" type="Character" x="416" y="240" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="SOUTH"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('The castle is built into the city walls. Before sages sealed the city, there was an entrance here.')"/>
   </properties>
  </object>
  <object id="11" name="npc" type="Character" x="464" y="288" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="NORTH"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('The knights used to be reinforced by wanderers from the outside.')"/>
   </properties>
  </object>
  <object id="12" name="tele" type="Event" x="272" y="256" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('hero/fortress_f2.tmx', 1, 5)"/>
   </properties>
  </object>
  <object id="13" name="tele" type="Event" x="528" y="224" width="16" height="16">
   <properties>
    <property name="onCollide" value="teleport('hero/fortress_f1.tmx', 13, 11)"/>
   </properties>
  </object>
  <object id="14" name="npc" type="Character" x="368" y="208" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_knight"/>
    <property name="face" value="SOUTH"/>
    <property name="onBehavior" value="this.wander()"/>
    <property name="onInteract" value="speak('We have hardly enough knights to defend the castle.')"/>
   </properties>
  </object>
  <object id="15" name="tele" type="Event" x="400" y="96" width="32" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 59, 18)"/>
   </properties>
  </object>
  <object id="16" name="tele" type="Event" x="176" y="240" width="16" height="96">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 59, 18)"/>
   </properties>
  </object>
  <object id="17" name="tele" type="Event" x="192" y="240" width="32" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 59, 18)"/>
   </properties>
  </object>
  <object id="18" name="tele" type="Event" x="592" y="112" width="32" height="16">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 59, 18)"/>
   </properties>
  </object>
  <object id="19" name="tele" type="Event" x="624" y="112" width="16" height="96">
   <properties>
    <property name="onCollide" value="teleport('world1/overworld.tmx', 59, 18)"/>
   </properties>
  </object>
  <object id="20" name="david" type="Character" x="368" y="320" width="16" height="16">
   <properties>
    <property name="appearance" value="4dir_david"/>
    <property name="face" value="EAST"/>
    <property name="hide" value="return not getSwitch('david_left')"/>
    <property name="onInteract" value="speak('David', 'In a few days I\'ll be initiated as a Knight of Hero.')"/>
   </properties>
  </object>
 </objectgroup>
 <layer name="Tile Layer 3" width="60" height="40">
  <properties>
   <property name="z" value="1.0"/>
  </properties>
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+3BMQEAAADCoPVPbQdvoAAAAAAAAAAAAHgMMYCaUYAlAAA=
  </data>
 </layer>
</map>
